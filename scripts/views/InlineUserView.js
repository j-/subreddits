define(["require","ok","ok.dollarview","jquery","underscore","modules/pagerouter"],function(e){var t=e("ok");e("ok.dollarview");var n=e("jquery"),r=e("underscore"),i=e("modules/pagerouter");return t.$View.extend({tagName:"a",className:"inline-user",init:function(){r.bindAll(this,"handleClick")},render:function(){if(this.watch.isDeleted()){this.$el.addClass("deleted"),this.renderDeleted();return}var e=this.watch.getUserPageURL(),t=this.watch.get("name");this.empty(),this.$el.removeClass("deleted").attr("href",e),n.textNode("/u/").appendTo(this.$el),n.create("span").addClass("name").text(t).appendTo(this.$el)},renderDeleted:function(){this.$el.text("[deleted]").attr("href",null)},handleClick:function(e){if(this.watch.isDeleted()){e.preventDefault();return}if(!e.ctrlKey){e.preventDefault();var t=this.watch.get("name");i.go("/user/"+t)}},showSubmitter:function(){this.$el.addClass("is-op")},showModerator:function(){this.$el.addClass("is-mod")},showAdmin:function(){this.$el.addClass("is-admin")},showSpecial:function(){this.$el.addClass("is-special")},start:function(){this.stop(),this.$el.on("click",this.handleClick)},stop:function(){t.$View.prototype.stop.call(this),this.$el.off("click",this.handleClick)}})});