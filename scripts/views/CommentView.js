define(["require","ok","ok.dollarview","underscore","models/LinkModel","models/AccountModel","views/InlineUserView","views/TimeView","views/GoldView","views/UserContentView","text!templates/Comment.html"],function(e){var t=e("ok");e("ok.dollarview");var n=e("underscore"),r=e("models/LinkModel"),i=e("models/AccountModel"),s=e("views/InlineUserView"),o=e("views/TimeView"),u=e("views/GoldView"),a=e("views/UserContentView"),f=e("text!templates/Comment.html"),l=t.$View.extend({className:"entry",init:function(){this.author=new i({name:this.watch.get("author")}),this.inlineAuthorUserView=this.addChildView(s,{watch:this.author}),this.timeView=this.addChildView(o,{watch:this.watch.getProperty("created_utc")}),this.userContentView=this.addChildView(a,{watch:this.watch.getProperty("body_html")}),this.goldView=this.addChildView(u,{watch:this.watch.getProperty("gilded")})},render:function(){this.empty(),this.$el.html(f),this.renderAuthor(),this.renderScore(),this.renderTime(),this.renderGold(),this.renderBody(),this.renderPermalink(),this.renderContextLink(),this.renderFullCommentsLink()},renderAuthor:function(){var e=this.watch.get("author"),t=this.watch.get("link_author"),n=this.watch.get("distinguished"),r=this.$(".comment-author");this.inlineAuthorUserView.setElement(r),this.inlineAuthorUserView.render(),e===t&&this.inlineAuthorUserView.showSubmitter(),n&&(n==="moderator"?this.inlineAuthorUserView.showModerator():n==="admin"?this.inlineAuthorUserView.showAdmin():n==="special"&&this.inlineAuthorUserView.showSpecial())},renderScore:function(){var e=this.watch.get("score");e+=" "+(e===1?"point":"points"),this.$(".comment-score").text(e)},renderTime:function(){this.timeView.setElement(this.$(".comment-time")),this.timeView.render()},renderGold:function(){this.goldView.setElement(this.$(".gold")),this.goldView.render()},renderBody:function(){this.userContentView.render(),this.$(".comment-body").append(this.userContentView.$el)},renderPermalink:function(){var e=this.watch.get("link_id").substring(3),t=this.watch.get("id"),n="http://www.reddit.com/comments/"+e+"//"+t;this.$(".actions .permalink").attr("href",n)},renderContextLink:function(){var e=this.watch.get("link_id").substring(3),t=this.watch.get("id"),n="http://www.reddit.com/comments/"+e+"//"+t+"?context=99";this.$(".actions .context").attr("href",n)},renderFullCommentsLink:function(){var e=this.watch.get("link_id").substring(3),t="http://www.reddit.com/comments/"+e;this.$(".actions .full-comments").attr("href",t)}});return l});