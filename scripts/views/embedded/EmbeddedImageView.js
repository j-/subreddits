define(["require","views/embedded/EmbeddedView","views/ResizableImageView"],function(e){var t=e("views/embedded/EmbeddedView"),n=e("views/ResizableImageView"),r=t.extend({className:"embedded-content embedded-image",init:function(){t.prototype.init.apply(this,arguments),this.href=this.watch.get("url"),this.url=r.getImageURL(this.href),this.imageView=new n({url:this.url,href:this.href})},render:function(){this.empty(),this.imageView.render(),this.$el.append(this.imageView.el)},start:function(){t.prototype.start.call(this),this.imageView.start()},stop:function(){t.prototype.stop.call(this),this.imageView.stop()}});return r.extensionExp=/\.(jpe?g|gif|png)$/i,r.imgurExp=/imgur.com\/(?!a\/)(?:gallery\/)?([a-z0-9]*)/i,r.getImageURL=function(e){if(r.extensionExp.test(e))return e;var t=e.match(r.imgurExp);return t?"http://i.imgur.com/"+t[1]+".gif":null},r.identify=function(e){var t=e.get("url"),n=r.getImageURL(t);return Boolean(n)},r});